webpackJsonp([36],{EMf6:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("UKgC"),i={props:{value:{type:Boolean,default:!1},modelForm:{type:Object}},data:function(){return{data:[],show:!1,btnName:"新建",rules:{GatewayKey:[{required:!0,message:"请输入网关名称",trigger:"blur"}],RequestIdKey:[{required:!0,message:"请输入请求标识",trigger:"blur"}]}}},created:function(){this.BLL=new r.a(this),this.value&&(this.show=!0)},computed:{loading:function(){return this.$store.getters.btnLoading.str&&"edit"===this.$store.getters.btnLoading.id}},mounted:function(){},methods:{handleReset:function(){this.$refs.modelForm.resetFields()},handleSubmit:function(e){this.BLL.editSubmit(e)}},watch:{show:function(e){var o=this;this.$emit("input",e),e?this.$nextTick(function(){o.data=[],o.modelForm.Id?o.btnName="编辑":o.btnName="新建"}):this.$refs.modelForm.clearValidate()},value:function(e){this.show=e}}},l={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-dialog",{attrs:{title:e.btnName,visible:e.show,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(o){e.show=o}}},[e.modelForm?t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"modelForm",attrs:{model:e.modelForm,rules:e.rules,"label-width":"120px"}},[t("el-tabs",{attrs:{type:"card"}},[t("el-tab-pane",{attrs:{label:"基础信息"}},[t("el-form-item",{attrs:{label:"网关Code",prop:"GatewayKey"}},[t("el-input",{model:{value:e.modelForm.GatewayKey,callback:function(o){e.$set(e.modelForm,"GatewayKey",o)},expression:"modelForm.GatewayKey"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"网关地址",prop:"BaseUrl"}},[t("el-input",{model:{value:e.modelForm.BaseUrl,callback:function(o){e.$set(e.modelForm,"BaseUrl",o)},expression:"modelForm.BaseUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"下游请求",prop:"DownstreamScheme"}},[t("el-input",{model:{value:e.modelForm.DownstreamScheme,callback:function(o){e.$set(e.modelForm,"DownstreamScheme",o)},expression:"modelForm.DownstreamScheme"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"请求标识",prop:"RequestIdKey"}},[t("el-input",{model:{value:e.modelForm.RequestIdKey,callback:function(o){e.$set(e.modelForm,"RequestIdKey",o)},expression:"modelForm.RequestIdKey"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"地址负载",prop:"LoadBalancerOptions"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelForm.LoadBalancerOptions.Type,callback:function(o){e.$set(e.modelForm.LoadBalancerOptions,"Type",o)},expression:"modelForm.LoadBalancerOptions.Type"}},[t("el-option",{key:"LeastConnection",attrs:{value:"LeastConnection",label:"请求较少"}}),e._v(" "),t("el-option",{key:"RoundRobin",attrs:{value:"RoundRobin",label:"循环可用"}}),e._v(" "),t("el-option",{key:"NoLoadBalancer",attrs:{value:"NoLoadBalancer",label:"第一个地址"}})],1)],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"熔断配置"}},[t("el-form-item",{attrs:{label:"允许异常次数",prop:"QoSOptions.ExceptionsAllowedBeforeBreaking"}},[t("el-input-number",{attrs:{min:0,label:"熔断允许异常次数"},model:{value:e.modelForm.QoSOptions.ExceptionsAllowedBeforeBreaking,callback:function(o){e.$set(e.modelForm.QoSOptions,"ExceptionsAllowedBeforeBreaking",o)},expression:"modelForm.QoSOptions.ExceptionsAllowedBeforeBreaking"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"熔断持续时间",prop:"QoSOptions.DurationOfBreak"}},[t("el-input-number",{attrs:{min:0,label:"熔断持续时间"},model:{value:e.modelForm.QoSOptions.DurationOfBreak,callback:function(o){e.$set(e.modelForm.QoSOptions,"DurationOfBreak",o)},expression:"modelForm.QoSOptions.DurationOfBreak"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"超时时间",prop:"QoSOptions.TimeoutValue"}},[t("el-input-number",{attrs:{min:0,label:"超时时间"},model:{value:e.modelForm.QoSOptions.TimeoutValue,callback:function(o){e.$set(e.modelForm.QoSOptions,"TimeoutValue",o)},expression:"modelForm.QoSOptions.TimeoutValue"}})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"限速限流"}},[t("el-form-item",{attrs:{label:"禁用HEAD标头",prop:"RateLimitOptions.DisableRateLimitHeaders"}},[t("el-switch",{attrs:{"active-text":"禁用","inactive-text":"不禁用"},model:{value:e.modelForm.RateLimitOptions.DisableRateLimitHeaders,callback:function(o){e.$set(e.modelForm.RateLimitOptions,"DisableRateLimitHeaders",o)},expression:"modelForm.RateLimitOptions.DisableRateLimitHeaders"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"客户端标识",prop:"RateLimitOptions.ClientIdHeader"}},[t("el-input",{model:{value:e.modelForm.RateLimitOptions.ClientIdHeader,callback:function(o){e.$set(e.modelForm.RateLimitOptions,"ClientIdHeader",o)},expression:"modelForm.RateLimitOptions.ClientIdHeader"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"计数器标识",prop:"RateLimitOptions.RateLimitCounterPrefix"}},[t("el-input",{model:{value:e.modelForm.RateLimitOptions.RateLimitCounterPrefix,callback:function(o){e.$set(e.modelForm.RateLimitOptions,"RateLimitCounterPrefix",o)},expression:"modelForm.RateLimitOptions.RateLimitCounterPrefix"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"限速提示状消息",prop:"RateLimitOptions.QuotaExceededMessage"}},[t("el-input",{model:{value:e.modelForm.RateLimitOptions.QuotaExceededMessage,callback:function(o){e.$set(e.modelForm.RateLimitOptions,"QuotaExceededMessage",o)},expression:"modelForm.RateLimitOptions.QuotaExceededMessage"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"限速提示状态码",prop:"RateLimitOptions.HttpStatusCode"}},[t("el-input",{model:{value:e.modelForm.RateLimitOptions.HttpStatusCode,callback:function(o){e.$set(e.modelForm.RateLimitOptions,"HttpStatusCode",o)},expression:"modelForm.RateLimitOptions.HttpStatusCode"}})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"HTTP处理"}},[t("el-form-item",{attrs:{label:"允许重定向",prop:"HttpHandlerOptions.AllowAutoRedirect"}},[t("el-switch",{attrs:{"active-text":"允许","inactive-text":"不允许"},model:{value:e.modelForm.HttpHandlerOptions.AllowAutoRedirect,callback:function(o){e.$set(e.modelForm.HttpHandlerOptions,"AllowAutoRedirect",o)},expression:"modelForm.HttpHandlerOptions.AllowAutoRedirect"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用Cookie容器",prop:"HttpHandlerOptions.UseCookieContainer"}},[t("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseCookieContainer,callback:function(o){e.$set(e.modelForm.HttpHandlerOptions,"UseCookieContainer",o)},expression:"modelForm.HttpHandlerOptions.UseCookieContainer"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"内置追踪",prop:"HttpHandlerOptions.UseTracing"}},[t("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseTracing,callback:function(o){e.$set(e.modelForm.HttpHandlerOptions,"UseTracing",o)},expression:"modelForm.HttpHandlerOptions.UseTracing"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用代理",prop:"HttpHandlerOptions.UseProxy"}},[t("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseProxy,callback:function(o){e.$set(e.modelForm.HttpHandlerOptions,"UseProxy",o)},expression:"modelForm.HttpHandlerOptions.UseProxy"}})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"服务发现"}},[t("el-form-item",{attrs:{label:"主机",prop:"ServiceDiscoveryProvider.Host"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Host,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"Host",o)},expression:"modelForm.ServiceDiscoveryProvider.Host"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"端口",prop:"ServiceDiscoveryProvider.Port"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Port,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"Port",o)},expression:"modelForm.ServiceDiscoveryProvider.Port"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"组件",prop:"ServiceDiscoveryProvider.Type"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Type,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"Type",o)},expression:"modelForm.ServiceDiscoveryProvider.Type"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"组件Token",prop:"ServiceDiscoveryProvider.Token"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Token,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"Token",o)},expression:"modelForm.ServiceDiscoveryProvider.Token"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"存储Key",prop:"ServiceDiscoveryProvider.ConfigurationKey"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.ConfigurationKey,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"ConfigurationKey",o)},expression:"modelForm.ServiceDiscoveryProvider.ConfigurationKey"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"轮询时间",prop:"ServiceDiscoveryProvider.PollingInterval"}},[t("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.PollingInterval,callback:function(o){e.$set(e.modelForm.ServiceDiscoveryProvider,"PollingInterval",o)},expression:"modelForm.ServiceDiscoveryProvider.PollingInterval"}})],1)],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.btnName))]),e._v(" "),t("el-button",{on:{click:e.handleReset}},[e._v("重置")])],1)],1):e._e()],1)},staticRenderFns:[]};var a=t("VU/8")(i,l,!1,function(e){t("W6LP")},null,null);o.default=a.exports},W6LP:function(e,o){}});