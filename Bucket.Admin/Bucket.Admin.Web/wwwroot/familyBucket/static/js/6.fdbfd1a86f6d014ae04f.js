webpackJsonp([6,35,37],{"18md":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("QEUx"),r=o("UKgC"),l=o("EMf6"),a=o("ZJKp"),n={components:{iTable:i.a,Edit:l.default,Notify:a.default},data:function(){var e=this;return{editModel:null,showEdit:!1,notifyModel:null,showNotify:!1,dataList:[],filters:{},columns:[{prop:"GatewayId",label:"网关编号",width:80,align:"center"},{prop:"GatewayKey",label:"网关Code"},{prop:"RequestIdKey",label:"请求标识"},{prop:"LoadBalancerOptions",label:"负载方式"},{prop:"ServiceDiscoveryProvider",label:"服务发现"},{prop:"QoSOptions",label:"熔断配置"},{prop:"RateLimitOptions",label:"限速配置"}],operateColumn:{width:200,fixed:"right",list:[{type:"primary",name:"编辑",icon:"edit",method:function(t,o){e.editModel={GatewayId:o.GatewayId,GatewayKey:o.GatewayKey,BaseUrl:o.BaseUrl,DownstreamScheme:o.DownstreamScheme,RequestIdKey:o.RequestIdKey,HttpHandlerOptions:JSON.parse(o.HttpHandlerOptions),LoadBalancerOptions:JSON.parse(o.LoadBalancerOptions),QoSOptions:JSON.parse(o.QoSOptions),ServiceDiscoveryProvider:JSON.parse(o.ServiceDiscoveryProvider),RateLimitOptions:JSON.parse(o.RateLimitOptions)},e.showEdit=!0},disabled:function(e,t){}},{type:"danger",name:"数据同步",icon:"refresh",method:function(t,o){e.notifyModel={GatewayId:o.GatewayId,SyncTarget:null},e.showNotify=!0},disabled:function(e,t){}}]},currentIndex:1,pagination:{size:10}}},computed:{loading:function(){return this.$store.getters.btnLoading.str&&!this.$store.getters.btnLoading.id}},created:function(){this.BLL=new r.a(this),this.BLL.search()},beforeDestroy:function(){},mounted:function(){},methods:{handleTableChange:function(e){this.BLL.handleTableChange(e)}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("el-form",{attrs:{inline:!0,model:e.filters}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.BLL.search()}}},[e._v("刷新")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.BLL.add()}}},[e._v("新增")])],1)],1),e._v(" "),o("iTable",{ref:"iTable",attrs:{tableData:e.dataList,columns:e.columns,loading:e.loading,pageSize:20,otherHeight:230,operateColumn:e.operateColumn},on:{handleTableChange:e.handleTableChange}}),e._v(" "),o("edit",{attrs:{modelForm:e.editModel},on:{addSuccess:function(t){e.BLL.search()}},model:{value:e.showEdit,callback:function(t){e.showEdit=t},expression:"showEdit"}}),e._v(" "),o("notify",{attrs:{modelForm:e.notifyModel},model:{value:e.showNotify,callback:function(t){e.showNotify=t},expression:"showNotify"}})],1)},staticRenderFns:[]},m=o("VU/8")(n,s,!1,null,null,null);t.default=m.exports},EMf6:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("UKgC"),r={props:{value:{type:Boolean,default:!1},modelForm:{type:Object}},data:function(){return{data:[],show:!1,btnName:"新建",rules:{GatewayKey:[{required:!0,message:"请输入网关名称",trigger:"blur"}],RequestIdKey:[{required:!0,message:"请输入请求标识",trigger:"blur"}]}}},created:function(){this.BLL=new i.a(this),this.value&&(this.show=!0)},computed:{loading:function(){return this.$store.getters.btnLoading.str&&"edit"===this.$store.getters.btnLoading.id}},mounted:function(){},methods:{handleReset:function(){this.$refs.modelForm.resetFields()},handleSubmit:function(e){this.BLL.editSubmit(e)}},watch:{show:function(e){var t=this;this.$emit("input",e),e?this.$nextTick(function(){t.data=[],t.modelForm.Id?t.btnName="编辑":t.btnName="新建"}):this.$refs.modelForm.clearValidate()},value:function(e){this.show=e}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.btnName,visible:e.show,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.show=t}}},[e.modelForm?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"modelForm",attrs:{model:e.modelForm,rules:e.rules,"label-width":"120px"}},[o("el-tabs",{attrs:{type:"card"}},[o("el-tab-pane",{attrs:{label:"基础信息"}},[o("el-form-item",{attrs:{label:"网关Code",prop:"GatewayKey"}},[o("el-input",{model:{value:e.modelForm.GatewayKey,callback:function(t){e.$set(e.modelForm,"GatewayKey",t)},expression:"modelForm.GatewayKey"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"网关地址",prop:"BaseUrl"}},[o("el-input",{model:{value:e.modelForm.BaseUrl,callback:function(t){e.$set(e.modelForm,"BaseUrl",t)},expression:"modelForm.BaseUrl"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"下游请求",prop:"DownstreamScheme"}},[o("el-input",{model:{value:e.modelForm.DownstreamScheme,callback:function(t){e.$set(e.modelForm,"DownstreamScheme",t)},expression:"modelForm.DownstreamScheme"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"请求标识",prop:"RequestIdKey"}},[o("el-input",{model:{value:e.modelForm.RequestIdKey,callback:function(t){e.$set(e.modelForm,"RequestIdKey",t)},expression:"modelForm.RequestIdKey"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址负载",prop:"LoadBalancerOptions"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelForm.LoadBalancerOptions.Type,callback:function(t){e.$set(e.modelForm.LoadBalancerOptions,"Type",t)},expression:"modelForm.LoadBalancerOptions.Type"}},[o("el-option",{key:"LeastConnection",attrs:{value:"LeastConnection",label:"请求较少"}}),e._v(" "),o("el-option",{key:"RoundRobin",attrs:{value:"RoundRobin",label:"循环可用"}}),e._v(" "),o("el-option",{key:"NoLoadBalancer",attrs:{value:"NoLoadBalancer",label:"第一个地址"}})],1)],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"熔断配置"}},[o("el-form-item",{attrs:{label:"允许异常次数",prop:"QoSOptions.ExceptionsAllowedBeforeBreaking"}},[o("el-input-number",{attrs:{min:0,label:"熔断允许异常次数"},model:{value:e.modelForm.QoSOptions.ExceptionsAllowedBeforeBreaking,callback:function(t){e.$set(e.modelForm.QoSOptions,"ExceptionsAllowedBeforeBreaking",t)},expression:"modelForm.QoSOptions.ExceptionsAllowedBeforeBreaking"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"熔断持续时间",prop:"QoSOptions.DurationOfBreak"}},[o("el-input-number",{attrs:{min:0,label:"熔断持续时间"},model:{value:e.modelForm.QoSOptions.DurationOfBreak,callback:function(t){e.$set(e.modelForm.QoSOptions,"DurationOfBreak",t)},expression:"modelForm.QoSOptions.DurationOfBreak"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"超时时间",prop:"QoSOptions.TimeoutValue"}},[o("el-input-number",{attrs:{min:0,label:"超时时间"},model:{value:e.modelForm.QoSOptions.TimeoutValue,callback:function(t){e.$set(e.modelForm.QoSOptions,"TimeoutValue",t)},expression:"modelForm.QoSOptions.TimeoutValue"}})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"限速限流"}},[o("el-form-item",{attrs:{label:"禁用HEAD标头",prop:"RateLimitOptions.DisableRateLimitHeaders"}},[o("el-switch",{attrs:{"active-text":"禁用","inactive-text":"不禁用"},model:{value:e.modelForm.RateLimitOptions.DisableRateLimitHeaders,callback:function(t){e.$set(e.modelForm.RateLimitOptions,"DisableRateLimitHeaders",t)},expression:"modelForm.RateLimitOptions.DisableRateLimitHeaders"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户端标识",prop:"RateLimitOptions.ClientIdHeader"}},[o("el-input",{model:{value:e.modelForm.RateLimitOptions.ClientIdHeader,callback:function(t){e.$set(e.modelForm.RateLimitOptions,"ClientIdHeader",t)},expression:"modelForm.RateLimitOptions.ClientIdHeader"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"计数器标识",prop:"RateLimitOptions.RateLimitCounterPrefix"}},[o("el-input",{model:{value:e.modelForm.RateLimitOptions.RateLimitCounterPrefix,callback:function(t){e.$set(e.modelForm.RateLimitOptions,"RateLimitCounterPrefix",t)},expression:"modelForm.RateLimitOptions.RateLimitCounterPrefix"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"限速提示状消息",prop:"RateLimitOptions.QuotaExceededMessage"}},[o("el-input",{model:{value:e.modelForm.RateLimitOptions.QuotaExceededMessage,callback:function(t){e.$set(e.modelForm.RateLimitOptions,"QuotaExceededMessage",t)},expression:"modelForm.RateLimitOptions.QuotaExceededMessage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"限速提示状态码",prop:"RateLimitOptions.HttpStatusCode"}},[o("el-input",{model:{value:e.modelForm.RateLimitOptions.HttpStatusCode,callback:function(t){e.$set(e.modelForm.RateLimitOptions,"HttpStatusCode",t)},expression:"modelForm.RateLimitOptions.HttpStatusCode"}})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"HTTP处理"}},[o("el-form-item",{attrs:{label:"允许重定向",prop:"HttpHandlerOptions.AllowAutoRedirect"}},[o("el-switch",{attrs:{"active-text":"允许","inactive-text":"不允许"},model:{value:e.modelForm.HttpHandlerOptions.AllowAutoRedirect,callback:function(t){e.$set(e.modelForm.HttpHandlerOptions,"AllowAutoRedirect",t)},expression:"modelForm.HttpHandlerOptions.AllowAutoRedirect"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"使用Cookie容器",prop:"HttpHandlerOptions.UseCookieContainer"}},[o("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseCookieContainer,callback:function(t){e.$set(e.modelForm.HttpHandlerOptions,"UseCookieContainer",t)},expression:"modelForm.HttpHandlerOptions.UseCookieContainer"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"内置追踪",prop:"HttpHandlerOptions.UseTracing"}},[o("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseTracing,callback:function(t){e.$set(e.modelForm.HttpHandlerOptions,"UseTracing",t)},expression:"modelForm.HttpHandlerOptions.UseTracing"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"使用代理",prop:"HttpHandlerOptions.UseProxy"}},[o("el-switch",{attrs:{"active-text":"使用","inactive-text":"不使用"},model:{value:e.modelForm.HttpHandlerOptions.UseProxy,callback:function(t){e.$set(e.modelForm.HttpHandlerOptions,"UseProxy",t)},expression:"modelForm.HttpHandlerOptions.UseProxy"}})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"服务发现"}},[o("el-form-item",{attrs:{label:"主机",prop:"ServiceDiscoveryProvider.Host"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Host,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"Host",t)},expression:"modelForm.ServiceDiscoveryProvider.Host"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"端口",prop:"ServiceDiscoveryProvider.Port"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Port,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"Port",t)},expression:"modelForm.ServiceDiscoveryProvider.Port"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"组件",prop:"ServiceDiscoveryProvider.Type"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Type,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"Type",t)},expression:"modelForm.ServiceDiscoveryProvider.Type"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"组件Token",prop:"ServiceDiscoveryProvider.Token"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.Token,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"Token",t)},expression:"modelForm.ServiceDiscoveryProvider.Token"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"存储Key",prop:"ServiceDiscoveryProvider.ConfigurationKey"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.ConfigurationKey,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"ConfigurationKey",t)},expression:"modelForm.ServiceDiscoveryProvider.ConfigurationKey"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"轮询时间",prop:"ServiceDiscoveryProvider.PollingInterval"}},[o("el-input",{model:{value:e.modelForm.ServiceDiscoveryProvider.PollingInterval,callback:function(t){e.$set(e.modelForm.ServiceDiscoveryProvider,"PollingInterval",t)},expression:"modelForm.ServiceDiscoveryProvider.PollingInterval"}})],1)],1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.btnName))]),e._v(" "),o("el-button",{on:{click:e.handleReset}},[e._v("重置")])],1)],1):e._e()],1)},staticRenderFns:[]};var a=o("VU/8")(r,l,!1,function(e){o("M5UX")},null,null);t.default=a.exports},KHPS:function(e,t){},M5UX:function(e,t){},ZJKp:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("UKgC"),r={props:{value:{type:Boolean,default:!1},modelForm:{type:Object}},data:function(){return{data:[],show:!1,btnName:"立即同步",rules:{SyncTarget:[{required:!0,message:"请选择目标数据源",trigger:"change"}]}}},created:function(){this.BLL=new i.a(this),this.value&&(this.show=!0)},computed:{loading:function(){return this.$store.getters.btnLoading.str&&"edit"===this.$store.getters.btnLoading.id}},mounted:function(){},methods:{handleReset:function(){this.$refs.modelForm.resetFields()},handleSubmit:function(e){this.BLL.notifySubmit(e)}},watch:{show:function(e){var t=this;this.$emit("input",e),e?this.$nextTick(function(){t.data=[]}):this.$refs.modelForm.clearValidate()},value:function(e){this.show=e}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"数据同步",visible:e.show,"close-on-click-modal":!1,width:"35%"},on:{"update:visible":function(t){e.show=t}}},[e.modelForm?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"modelForm",attrs:{model:e.modelForm,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"目标数据源",prop:"SyncTarget"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.modelForm.SyncTarget,callback:function(t){e.$set(e.modelForm,"SyncTarget",t)},expression:"modelForm.SyncTarget"}},[o("el-option",{key:"SyncTarget_0",attrs:{label:"Redis",value:"Redis"}}),e._v(" "),o("el-option",{key:"SyncTarget_1",attrs:{label:"Consul",value:"Consul"}})],1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.btnName))])],1)],1):e._e()],1)},staticRenderFns:[]};var a=o("VU/8")(r,l,!1,function(e){o("KHPS")},null,null);t.default=a.exports}});